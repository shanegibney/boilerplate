<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Javascript General</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <h3>Periphal Vision Checker</h3>
  <canvas id='canvas5' width="500" height="250" style='border:2px double#780dc4;'></canvas>ctx5<br>
  <input id="perVision" type="button" value="Start" onclick="perVision();"/><hr>
  <canvas id='canvas4' width="700" height="250" style='border:2px dashed#f1a335;'></canvas>ctx4<br>
  <input id="sin" type="button" value="Circular to linear motion" onclick="toggleshow();"/>
  <!--<br>If this uncommented line 291 also needs to be uncommented. Background:<input type="color" id="bgmotion" value="bg2. Wavemotion" name="bgmotion">--><br>
  <div>Radians and degrees. Starting at the top. Restarts every cycle.</div>
   <div id="top">Radians</div><br>
  <div id="bottom">Degrees</div>
  <hr>
  <canvas id='canvas3' width="500" height="250" style='border:2px double#00FFFF;'></canvas>ctx3<br>
  <input id="pulsing" type="button" value="Animate pulsing" onclick="togglePause();"/>
  <br>Background:<input type="color" id="bgpulse" value="bgpulse" name="bgpulse">
  <hr>
    <canvas id='canvas1' width="500" height="250" style='border:2px dotted #FF0000;'></canvas>ctx<br>
    <input id="canvasCircle" type="button" value="circle" onclick="circle();"/>
    <p id="displaycircle"></p>
    <input id="canvasSquare" type="button" value="square" onclick="square();"/>
    <p id="displaysquare"></p>
    <input id="canvasRectangle" type="button" value="rectangle" onclick="rectangle();"/>
    <p id="displayrectangle"></p>
    <input id="canvasEllipse" type="button" value="ellipse" onclick="ellipse();"/>
    <p id="displayellipse"></p>
    <input id="canvasLine" type="button" value="line" onclick="line();"/>
    <p id="displayline"></p>
    <hr>
    <canvas id="canvas2" width="800" height="300" style='border:2px dashed #0000FF;'></canvas>ctx2
    <input id="ani" type="button" value="Animate bouncing ball"
    onclick="toggleanimation();"/>
    <br>Background:<input type="color" id="bgball" value="bgball" name="bgball">
<!--<input id="bgballid" type="button" value="submit" onclick="animation"/>-->
  <hr>
    <h3><input type="button" value="Reload page" onclick="window.location.reload();"></h3>
    <hr>
    <h3>Random numbers 1 - 10</h3>
    <input id="random" type="button" value="Submit" onclick="rand();"/>
    <p id="rand">value</p>
    <hr>   
    <h3>Random number max and min range</h3>
    min (0-49):<input type="range" id="minim" value="25" name="minimum" min="0" max="49" step="1" oninput="this.nextElementSibling.value = this.value">
    <output>25</output><br>
    max (50-100):<input type="range" id="maxim" value="75" name="maximum" min="50" max="100" step="1" oninput="this.nextElementSibling.value = this.value">
    <output>75</output><br>
  <input id="submitid" type="button" value="Submit" onclick="submit();"/>
  <span id="show">Generates a random number between <span id="min">this</span> and <span id="max">that</span>.</span>
  <p id="range">value</p>
<hr>
  <!--To comment HTML--> 
  <p id="test1">value</p>
  <h3>Incr</h3>
  <input id="incr" type="button" value="Incr++" onclick="incr();"/>
  <h3>Decr</h3>
  <input id="decr" type="button" value="Decr--" onclick="decr();"/>
  <h3>Reset</h3>
  <input id="reset" type="button" value="Reset" onclick="reset();"/>
  <hr>
  <h3>Call a function</h3>
  <input id="fun" type="button" value="Change colour" onclick="funct();"/>
  <p id="test2">substitute colour here</p>
  <p id="k"></p>
  <p id="index"></p>
  <p id="colour"></p>
  <p id="name"></p>
  <p id="add"></p><br>
  <hr>
  </h3>loop</h3>
  <input id="loop5" type="button" value="1 To 5" onclick="loop();"/>
  <p id="test3">To 5</p>
  <hr>
  <h3>A table</h3>
  <table class="table table-hover">
    <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">First</th>
          <th scope="col">Last</th>
          <th scope="col">Handle</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">1</th>
          <td>Mark</td>
          <td>Otto</td>
          <td>@mdo</td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>Jacob</td>
          <td>Thornton</td>
          <td>@fat</td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td colspan="2">Larry Bird</td>
          <td>@twitter</td>
        </tr>
      </tbody>
    
  </table>
  
  <hr>
  <h3>To start local server</h3>
  <p>http-server</p>
  <h3>To stop server local server</h3>
  <p>ctrl+c</p>
<hr>
  <!--<form>
  <button type="button" id="anonymousfunction">Submit</button>
  </form>-->


 <script>
// To comment Javascript

let i = 0;
let j = 0;
let k = 0;
let solidIncr = 0;
let l = 1;
let min = 0;
let max = 0;
let int = 0;
let shape = [];
let colour = [];
function generateRandomInteger(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive
}

const canvas = document.getElementById("canvas1");
const ctx = canvas.getContext("2d"); 
const canvas2 = document.getElementById("canvas2");
const ctx2 = canvas2.getContext("2d"); 
const canvas3 = document.getElementById("canvas3");
const ctx3 = canvas3.getContext("2d"); 
const canvas4 = document.getElementById("canvas4");
const ctx4 = canvas4.getContext("2d"); 
const canvas5 = document.getElementById("canvas5");
const ctx5 = canvas5.getContext("2d");

let counter = 0;
//Create settings for:
//background colour
//colour of dot (when on)
//size of dot 
//colour of crosshair
//size of crosshair
//type of crosshair lines crossed, triangle, square, circle, star
//time dot is on for
//time dot is off for
//TimeOn and timeOff is actually a random number between 5s and number
//chosen which has to be less than 30s.
//session time a multiple of the sum of timeOn and timeoff.
let session = 0;//has to be a number between 30s and 10 minutes
let timeOn = 0;//must be less than session, greater than 5s and less than 30s
let timeOff = 0;//must be less than session, greater than 5s and less than 30s
//If you know timeOn and timeOff, session can be calculated as a multiple of the sum of those.
function perVision(){
  requestAnimationFrame(perVision);
    //ctx5.clearRect(0,0,innerWidth,innerHeight);
    if(true){//are we in last 10secs of session,session-10s
      timer();
    } else {
      if(true){//condition time in on for
        flashOn();
      } else {
        flashOff();
      }
    }
  counter++;
}

function flashOn(){
  ctx5.beginPath();
    ctx5.fillStyle = 'lightblue';
    ctx5.arc(counter, 100, 10, 0, 2 * Math.PI);
    ctx5.fill()
    if(true){// time is on for
      flashOff()//Go to off function
    }else{
      flashOn()//Go to on function again
    }
}

function flashOff(){
  ctx5.beginPath();
    ctx5.filltyle = 'white';//to be same as background colour
    ctx5.arc(counter, 100, 10, 0, 2 * Math.PI);
    ctx5.fill()
    if(true){//if finished being off
      flashOn()//Go to on function
    }else{
      flashOff()//Go to off function again
    }
}

function timer(){
  //write 10s countdown timer
  //when it gets to 0 go to results page with ability to save and print pdf
}

let minRad = 10;
let rangeRad = 20;
let p = 0;

let x = 200;
let y = 200;
let pulsePause = true;
//pulse();

function pulse(){
  if(!pulsePause)
  requestAnimationFrame(pulse);
  let bgpulse = document.getElementById("bgpulse").value;
  //console.log('in animation: bgpulse = ' + bgpulse);
  p=p+0.02;
if(p>1){
  p=0
}
const rad=minRad+rangeRad*p;

ctx3.clearRect(0,0,canvas3.width,canvas3.height)
ctx3.clearRect(0,0,innerWidth,innerHeight);
ctx3.beginPath();
ctx3.fillStyle = bgpulse;
ctx3.rect(0, 0, innerWidth, innerHeight);
//ctx2.arc(n+100, o+100, radius, 0, 2 * Math.PI);
ctx3.fill();
ctx3.closePath();
ctx3.beginPath();
ctx3.arc(x,y,rad,0,Math.PI*2);
ctx3.stroke();
}

canvas3.addEventListener("mousemove",function(info){
x=info.offsetX;
y=info.offsetY;
});

function togglePause() {
  if (pulsePause)
    {  pulsePause = false;
	   requestAnimationFrame(pulse);
	   document.getElementById("pulsing").value = "Pause pulsing";
    }
  else
    {  pulsePause = true;
	   document.getElementById("pulsing").value = "Animate pulsing";
    }
}



let theta = 0;
let d = 0;
  let F = 0;
  let a = 0;
  let v2 =0;
  let m1 = 0;
  let m2 = 0;
  let g = 0;
  let x1 = 10;
  let y1 = 100;
  let x2 = 100;
  let y2 = 50;
  let r1 = 10;
  let r2 = 10;
  let arrA = [];
  kk = 0;
  countFrames = 0;

  let pauseShow = true;
  
  
//circular to linear motion
  function show(){

  if (!pauseShow)
     requestAnimationFrame(show);
     //let bgmotion = document.getElementById("bgmotion").value;
     //console.log('in animation: bgmotion = ' + bgmotion);
  
     //The following six commented lines are irrelevant to this
     //d=Math.sqrt(Math.pow((x2-x1),2)+Math.pow((y2-y1),2));//pythagoras
  //F=g*m1*m2/pow(d,2);//Universal law of gravitation
  //m1 and m2 must be dependent on r1 and r2 respectively
  //a=F/m(rsun);//Newton's 2nd Law where m depends on mass of object you're travelling around
  //From a=(v2-v1)/t we have v2=at+v1. The t in this should be t3
  //v1=/(x2-x1)/t The here should be t1 not the same as the above t3.
  //---------------------------------
/*
as of line 629 just to compare
//Draw yellow rectangle
ctx.beginPath();
ctx.fillStyle = "yellow";
ctx.fillRect(shape[7],shape[8],shape[9],shape[10]);
ctx.fill();
ctx.closePath();
*/
//-----------------------------------
  //Draw background
ctx4.beginPath();
//ctx4.clearRect(0,0,innerWidth,innerHeight);
//console.log(bgmotion);//this logs to the console
//ctx4.fillStyle = bgmotion;
//ctx4.fillStyle = "#FD0";//this isn't working using an actual colour
ctx4.fillStyle = "yellow";
ctx.fillRect(shape[7],shape[8],shape[9],shape[10]);
//ctx4.fillRect(0, 0, innerWidth, innerHeight);//draw a background rectangle
ctx4.fill();//fill() closes the path anyway, there shouldn't be any need for closePath();
ctx4.closePath();
 //---------------------------
  x2 = 45 * Math.sin(theta) + 62.5;//Theta must be in radians. 45 radius of circle in x direction. 62.5 is x-coordinate of centre of circle. 
  y2 = 45 * Math.cos(theta + Math.PI) + 62.5;//Theta must be in radians. 45 radius of circle in y direction. 62.5 is y-coordinate of centre of circle. 
//--------------------------------
ctx4.beginPath();
ctx4.lineWidth = 2;
ctx4.strokeStyle = 'black';
  arrA.unshift(y2);//add element to beginning with value y2
arrA.push('');//creates an empty element at the end of the array that kk+1 on the next line existsexists
for(kk=arrA.length-1; kk>-1; kk--){//Reverse loop
  arrA[kk+1]=arrA[kk];//moves the wave to the right
}
if(countFrames<500){
arrA[0]=y2;//Actually adds the y-value to the array
arrA.pop();//Remove last element of array
}else{
  arrA.pop();//one element needs to be popped off the end to keep the array the same lenght as it moves right
  arrA.pop();//one element needs to be popped off the end as an element is unshifted or added to the front of the array
  arrA.pop();//one element needs to be popped off the end as an element is pushed or added to the end of the array
  //<array>.unshifted(<value>) - added to the front of an Array
  //<array>.shifted() - removed from the front of an array
  //<array>.push(<value>) - add to the end of an array
  //<array>.pop() - remove from the end of an array
}
ctx4.stroke();
//now that the array arrA[] is full next draw the wave line 329
//---------------------------------
//draw wave
ctx4.beginPath();
let n = 0.5;//how spread out wave is
 ctx4.moveTo(112.5,y2);
 for(let kkk=0; kkk<arrA.length; kkk++){//forward loop
   ctx4.clearRect(0,0,innerWidth,innerHeight);
    ctx4.lineTo(112.5+(kkk*n),arrA[kkk]);//n how spread out the wave is
  }
; ctx4.stroke();
//---------------------------------------
ctx4.beginPath();
ctx4.fillStyle = "#FFA500"; //orange colour
ctx4.arc(62.5, 62.5, 45, 0, 2 * Math.PI);//large circle
ctx4.fill();
//------------------------------------
   // Centre of large circle
   ctx4.beginPath();
ctx4.fillStyle = "red";
ctx4.arc(62.5, 62.5, 5, 0, 2 * Math.PI);
ctx4.fill();
//------------------------------------
   // Rim of large circle
   ctx4.beginPath();
ctx4.strokeStyle = "black";
ctx4.arc(62.5, 62.5, 45, 0, 2 * Math.PI);
ctx4.stroke();
//-------------------------------
// Centre of revolving circle
ctx4.beginPath();
ctx4.fillStyle = "red";
ctx4.arc(x2, y2, 5, 0, 2 * Math.PI);
ctx4.fill();
//-----------------------------------
//elbow of piston
ctx4.beginPath();
ctx4.fillStyle = "red";
ctx4.arc(62.5, y2 + 70, 5, 0, 2 * Math.PI);//elbow
ctx4.fill();
//-----------------------------
ctx4.beginPath();
ctx4.lineWidth = 4;
ctx4.moveTo(x2,y2);//centre of circle
ctx4.lineTo(62.5,y2 + 70);//elbow
ctx4.lineTo(62.5,y2 + 120);//top of piston box
ctx4.moveTo(62.5-15,140);//top left corner
ctx4.lineTo(62.5-15,240);// bottom left corner
ctx4.lineTo(62.5+15,240);// bottom right corner
ctx4.lineTo(62.5+15,140);// top right corner
ctx4.lineTo(62.5-15,140);// top left corner to finish
ctx4.moveTo(62.5+15,y2 + 120);//Top of piston right
ctx4.lineTo(62.5-15,y2 + 120);//Top of piston left
ctx4.moveTo(x2,y2);//Move to centre of red revolving circle
ctx4.lineTo(17.5,y2);//left side of arm
ctx4.lineTo(112.5,y2);//arm
ctx4.moveTo(62.5,62.5);//center of orange circle
ctx4.lineTo(x2,y2);//arm from centre to revoving circle
ctx4.stroke();
//-----------------------------------
document.getElementById("top").innerHTML = theta.toFixed(1)+ 'rads';//starting at the top
document.getElementById("bottom").innerHTML = (theta * (180/Math.PI)).toFixed(1)+'&deg';
//-------------------------------------
theta += 0.04;//speed
if(theta>(2*Math.PI)){
  theta=0;//starts again after 3 revolutions
}
countFrames++;
}//closes the function show()



function toggleshow() {//4th canvas ctx4
  if (pauseShow)
    {  pauseShow = false;
	   requestAnimationFrame(show);
	   document.getElementById("sin").value = "Pause";
    }
  else
    {  pauseShow = true;
	   document.getElementById("sin").value = "Circular to linear motion";
    }
}

let n = 100;
let o = 100;
let dx = 4; //velocity of ball in x-direction
let dy = 4; //velocity of ball in y-direction
let radius = 20;
let lPause = true;

//ctx2 bouncing ball animation
function animation(){

  if (!lPause)
     requestAnimationFrame(animation);
let bgcolour = document.getElementById("bgball").value;

  ctx2.clearRect(0,0,innerWidth,innerHeight);
  ctx2.beginPath();
ctx2.fillStyle = bgcolour;
ctx2.rect(0, 0, innerWidth, innerHeight);
ctx2.fill();
ctx2.closePath();
  ctx2.beginPath();
ctx2.fillStyle = "green";
ctx2.arc(n , o, radius, 0, 2 * Math.PI);
ctx2.fill();
ctx2.closePath();
ctx2.beginPath();
ctx2.strokeStyle = "black";
ctx2.lineWidth = 2;
ctx2.arc(n , o, radius, 0, 2 * Math.PI);
ctx2.stroke();
ctx2.closePath();
  if (n + radius > canvas2.width || n - radius < 0){
    dx = -dx;
  }

  if (o + radius > canvas2.height || o - radius < 0){
    dy = -dy;
  }

  n += dx;
  o += dy;
  
}

function toggleanimation() {
  if (lPause)
    {  lPause = false;
	   requestAnimationFrame(animation);
	   document.getElementById("ani").value = "Pause bouncing ball";
    }
  else
    {  lPause = true;
	   document.getElementById("ani").value = "Animate bouncing ball";
    }
}


function submit(){
     min = document.querySelector("#minim").value; 
     max = document.querySelector("#maxim").value;
     min = parseInt(min);
     max = parseInt(max);
    let int = generateRandomInteger(min,max);
    document.getElementById("range").innerHTML = int;
    document.getElementById("min").innerHTML = min;
    document.getElementById("max").innerHTML = max;
}

function rand() {
 let ran = generateRandomInteger(1,11);
 document.getElementById("rand").innerHTML = ran;
}

function incr() {
    // loop to increase i
    document.getElementById("test1").innerHTML = i;
    i++;
}

function decr() {
    // loop to decrease i
    document.getElementById("test1").innerHTML = i;
    i--;
}

function reset() {
    i = 0;
    document.getElementById("test1").innerHTML = i;
}
function funct(){
  colour = ['red','orange','yellow','green','blue','indigo','violet','brown','black','grey','lightblue','beige','aqua','#D2691E','white'];

  if ((k < 0) || (k >= colour.length))
  {  k = 0;
     document.getElementById("add").innerHTML = '';
  }
  document.getElementById("test2").innerHTML = (k+1) + '. ' + '<font color = \'' + colour[k] + '\'>' + colour[k];
  document.getElementById("add").innerHTML += '<font color = black> <div style="background-color: ' + colour[k] + ' ;width : 100px;"> ' + (k+1) + '. ' + colour[k] + '</div>';
  k++;
}

function loop(){ 
    document.getElementById("test3").innerHTML = l;
    //console.log(l);
    if (l<5){
        l++;
    } else {
        l=1;//start again
    }
    }

function circle() {
  //generate coordinates
  let circleRadius = 20;//radius of circle
  let circleXCoor = generateRandomInteger(circleRadius,canvas.width-circleRadius);
  let circleYCoor = generateRandomInteger(circleRadius,canvas.height-circleRadius);
  //document.getElementById("circlexcoor").innerHTML = circlexcoor;
  //document.getElementById("circleycoor").innerHTML = circleycoor;
  shape[0] = circleXCoor;
  shape[1] = circleYCoor;
  shape[2] = circleRadius;//radius of circle
  draw();
}

function square() {
  //generate coordinates
  let squareWidth = 30;// width of square 
  let squareHeight = squareWidth;// height of square
let squareXCoor = generateRandomInteger(1,canvas.width-squareWidth);
let squareYCoor = generateRandomInteger(1,canvas.height-squareHeight);
shape[3] = squareXCoor;
shape[4] = squareYCoor;
shape[5] = squareWidth;
shape[6] = shape[5];
draw();
}

function rectangle() {
  //generate coordinates
  let rectangleWidth = 30;// width of square 
  let rectangleHeight = 60;// height of square
let rectangleXCoor = generateRandomInteger(1,canvas.width-rectangleWidth);
let rectangleYCoor = generateRandomInteger(1,canvas.height-rectangleHeight);
shape[7] = rectangleXCoor;
shape[8] = rectangleYCoor;
shape[9] = rectangleWidth;
shape[10] = rectangleHeight;
draw();
}

function ellipse() {
  //generate coordinates
  let ellipseradiusx = 10;// radiusx of circle
  let ellipseradiusy = 20;// radiusy of circle
  let ellipseXCoor = generateRandomInteger(0,canvas.width-ellipseradiusx);
  let ellipseYCoor = generateRandomInteger(0,canvas.height-ellipseradiusy);
  shape[11] = ellipseXCoor;
  shape[12] = ellipseYCoor;
  shape[13] = ellipseradiusx;//radiusx of circle
  shape[14] = ellipseradiusy;//radiusy of circle
  draw();
}

function line() {
  //generate coordinates
  let startLineX = generateRandomInteger(0,canvas.width-(10/2));
  let startLineY = generateRandomInteger(0,canvas.height-(30/2));
let LineX = 10;
let LineY = 30;
  let finishLineX = startLineX + LineX;
let finishLineY = startLineY + LineY;
shape[15] = startLineX;
shape[16] = startLineY;
shape[17] = LineX;
shape[18] = LineY;
draw();
}

function draw(){//called in the circle() and square() functions above.
  document.getElementById("displaycircle").innerHTML = 'circle = [ x-coordinate = ' + shape[0] + ',  y-coodinate = ' + shape[1] + ', radius =' + shape[2] + ']' ;
  document.getElementById("displaysquare").innerHTML = 'square = [ x-coordinate =' + shape[3] + ', y-coordinate = ' + shape[4] + ', width = ' + shape[5] + ', height = ' + shape[6] + ']' ;
  document.getElementById("displayrectangle").innerHTML = 'rectangle = [ x-coordinate = ' + shape[7] + ', y-coorinate = '  + shape[8] + ', width = ' + shape[9] + ', height = ' + shape[10] + ']' ;
  document.getElementById("displayellipse").innerHTML = 'ellipse = [ x-coordinate = ' + shape[11] + ', y-coordinate = ' + shape[12] + ', width = ' + shape[13] + ', height = ' + shape[14] + ']' ;
  document.getElementById("displayline").innerHTML = 'line = [ x-coordinate = ' + shape[15] + ', y-coordinate = ' + shape[16] + ', width = ' + shape[17] + ', height = ' + shape[18] + ']' ;

  //Clear all
ctx.beginPath();
ctx.fillStyle = "lightblue";
ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.fill();
ctx.closePath();
//Draw red circle
ctx.beginPath();
ctx.fillStyle = "red";
ctx.arc(shape[0], shape[1], shape[2], 0, 2 * Math.PI);
ctx.fill();
ctx.closePath();

//Draw blue square
ctx.beginPath();
ctx.fillStyle = "blue";
ctx.fillRect(shape[3],shape[4],shape[5],shape[6]);
ctx.fill();
ctx.closePath();

//Draw yellow rectangle
ctx.beginPath();
ctx.fillStyle = "yellow";
ctx.fillRect(shape[7],shape[8],shape[9],shape[10]);
ctx.fill();
ctx.closePath();

//Draw green ellipse
ctx.beginPath();
ctx.fillStyle = "green";
ctx.ellipse(shape[11], shape[12], shape[13], shape[14], Math.PI / 4, 0, 2 * Math.PI);
ctx.fill();
ctx.closePath();

//Draw orange line
ctx.beginPath();
//line width
ctx.lineWidth = 4;
ctx.moveTo(shape[15], shape[16]); 
ctx.lineTo(shape[15] + shape[17], shape[16] + shape[18]); 
ctx.strokeStyle = 'orange';
ctx.stroke();
ctx.closePath();
}

</script>
</body>
</html>